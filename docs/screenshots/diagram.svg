<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 420 580" width="100%" height="auto" xmlns="http://www.w3.org/2000/svg" style="background:#fff">
  <title>Water Level Indicator Wiring Diagram</title>
  <desc>Shows ESP32 connections to JSN-SR04T, MAX7219 (8x8 LED Matrix), Buzzer, and LED with color-coded lines and a legend. All components require 5V and GND (not shown for clarity).</desc>
  <!-- ESP32 -->
  <rect x="30" y="40" width="90" height="180" rx="12" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" filter="url(#shadow)"/>
  <text x="75" y="30" text-anchor="middle" font-size="18" fill="#1976d2" font-weight="bold">ESP32</text>
  <!-- ESP32 Pins -->
  <g font-size="13" fill="#333">
    <text x="65" y="65">GPIO 5</text>
    <text x="65" y="90">GPIO 18</text>
    <text x="65" y="115">GPIO 23</text>
    <text x="65" y="140">GPIO 19</text>
    <text x="65" y="165">GPIO 21</text>
    <text x="65" y="190">GPIO 22</text>
    <text x="65" y="215">GPIO 2</text>
  </g>
  <!-- ESP32 Pin Dots -->
  <g>
    <circle cx="120" cy="60" r="4" fill="#f44336"/>
    <circle cx="120" cy="85" r="4" fill="#4caf50"/>
    <circle cx="120" cy="110" r="4" fill="#ff9800"/>
    <circle cx="120" cy="135" r="4" fill="#9c27b0"/>
    <circle cx="120" cy="160" r="4" fill="#e91e63"/>
    <circle cx="120" cy="185" r="4" fill="#009688"/>
    <circle cx="120" cy="210" r="4" fill="#795548"/>
  </g>
  <!-- HC-SR04 -->
  <rect x="250" y="40" width="110" height="50" rx="8" fill="#f1f8e9" stroke="#43a047" stroke-width="2" filter="url(#shadow)"/>
  <text x="305" y="60" text-anchor="middle" font-size="15" fill="#388e3c" font-weight="bold">JSN-SR04T</text>
  <text x="305" y="75" text-anchor="middle" font-size="12" fill="#388e3c">Ultrasonic Sensor</text>
  <!-- MAX7219 -->
  <rect x="250" y="120" width="110" height="50" rx="8" fill="#fff3e0" stroke="#fb8c00" stroke-width="2" filter="url(#shadow)"/>
  <text x="305" y="140" text-anchor="middle" font-size="15" fill="#ef6c00" font-weight="bold">MAX7219</text>
  <text x="305" y="155" text-anchor="middle" font-size="12" fill="#ef6c00">LED Matrix (8x8)</text>
  <!-- Buzzer -->
  <ellipse cx="305" cy="230" rx="35" ry="18" fill="#e0f7fa" stroke="#009688" stroke-width="2" filter="url(#shadow)"/>
  <text x="305" y="235" text-anchor="middle" font-size="13" fill="#009688" font-weight="bold">Buzzer</text>
  <!-- LED -->
  <circle cx="305" cy="290" r="18" fill="#fbe9e7" stroke="#795548" stroke-width="2" filter="url(#shadow)"/>
  <text x="305" y="295" text-anchor="middle" font-size="13" fill="#795548" font-weight="bold">LED</text>
  <!-- Connection Lines -->
  <polyline points="124,60 250,60" stroke="#f44336" stroke-width="2" fill="none" stroke-linecap="round"/>
  <polyline points="124,85 250,70" stroke="#4caf50" stroke-width="2" fill="none" stroke-linecap="round"/>
  <polyline points="124,110 250,135" stroke="#ff9800" stroke-width="2" fill="none" stroke-linecap="round"/>
  <polyline points="124,135 250,145" stroke="#9c27b0" stroke-width="2" fill="none" stroke-linecap="round"/>
  <polyline points="124,160 250,155" stroke="#e91e63" stroke-width="2" fill="none" stroke-linecap="round"/>
  <polyline points="124,185 270,230" stroke="#009688" stroke-width="2" fill="none" stroke-linecap="round"/>
  <polyline points="124,210 287,290" stroke="#795548" stroke-width="2" fill="none" stroke-linecap="round"/>
  <!-- Power Lines (dashed) -->
  <line x1="360" y1="90" x2="360" y2="320" stroke="#888" stroke-width="1.5" stroke-dasharray="4,3" stroke-linecap="round"/>
  <text x="365" y="320" font-size="12" fill="#888">5V</text>
  <!-- Legend -->
  <rect x="30" y="420" width="375" height="100" rx="10" fill="#f5f5f5" stroke="#bbb" stroke-width="1" filter="url(#shadow)"/>
  <text x="205" y="440" text-anchor="middle" font-size="15" fill="#333" font-weight="bold">Legend</text>
  <g font-size="12">
    <circle cx="40" cy="460" r="6" fill="#f44336"/><text x="65" y="464">TRIG (GPIO 5)</text>
    <circle cx="40" cy="480" r="6" fill="#4caf50"/><text x="65" y="484">ECHO (GPIO 18)</text>
    <circle cx="180" cy="460" r="6" fill="#ff9800"/><text x="195" y="464">DIN (GPIO 23)</text>
    <circle cx="180" cy="480" r="6" fill="#9c27b0"/><text x="195" y="484">CLK (GPIO 19)</text>
    <circle cx="300" cy="460" r="6" fill="#e91e63"/><text x="315" y="464">CS (GPIO 21)</text>
    <circle cx="300" cy="480" r="6" fill="#009688"/><text x="315" y="484">Buzzer (GPIO 22)</text>
    <circle cx="40" cy="500" r="6" fill="#795548"/><text x="65" y="504">LED (GPIO 2)</text>
  </g>
  <!-- SVG Drop Shadow Filter -->
  <defs>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#bbb"/>
    </filter>
  </defs>
  <!-- Caption -->
  <text x="210" y="535" text-anchor="middle" font-size="10" fill="#666">
  Refer to the color-coded legend for each connection. 
  </text>
  <text x="210" y="545" text-anchor="middle" font-size="10" fill="#666">
  All components require 5V and GND (not shown for clarity).
  </text>
</svg> 