<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{TITLE}}</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
{{HEADER}}
<div class="container">
  <h2>Display Settings</h2>
  <form id="displayForm">
    <label for="brightness">Brightness (<span id='brightness-value'>{{BRIGHTNESS}}</span>)</label>
    <input name="brightness" id="brightness" type="range" min="0" max="15" value="{{BRIGHTNESS}}">
    <label for="mode">Display Mode</label>
    <select name="mode" id="mode">
      <option value="level" {{LEVEL_SELECTED}}>Water Level</option>
      <option value="percent" {{PERCENT_SELECTED}}>Percent</option>
      <option value="distance" {{DISTANCE_SELECTED}}>Distance</option>
      <option value="volume" {{VOLUME_SELECTED}}>Volume</option>
      <option value="status" {{STATUS_SELECTED}}>Status</option>
      <option value="text" {{TEXT_SELECTED}}>Scrolling Text</option>
    </select>
    <div style="margin: 10px 0 16px 0;">
      <input type="checkbox" name="scroll" id="scroll" {{SCROLL_CHECKED}}>
      <label for="scroll" style="display:inline; margin-left:6px;">Enable Scrolling</label>
    </div>
    <label for="hardwareType">Display Hardware Type</label>
    <select name="hardwareType" id="hardwareType">
      <option value="FC16_HW" {{FC16_SELECTED}}>FC16_HW (default)</option>
      <option value="GENERIC_HW" {{GENERIC_SELECTED}}>GENERIC_HW</option>
      <option value="PAROLA_HW" {{PAROLA_SELECTED}}>PAROLA_HW</option>
      <option value="ICSTATION_HW" {{ICSTATION_SELECTED}}>ICSTATION_HW</option>
    </select>
    <label for="displayType">Display Type</label>
    <select name="displayType" id="displayType">
      <option value="matrix" {{DISPLAY_TYPE_MATRIX_SELECTED}}>Matrix (8x8 or similar)</option>
      <option value="sevensegment" {{DISPLAY_TYPE_SEVENSEGMENT_SELECTED}}>7-Segment (8-digit MAX7219)</option>
      <option value="ssd1306" {{DISPLAY_TYPE_SSD1306_SELECTED}}>SSD1306 OLED</option>
    </select>
    <div id="ssd1306-size-row" style="display:none; margin:10px 0;">
      <label for="ssd1306Size">SSD1306 Size</label>
      <select name="ssd1306Size" id="ssd1306Size">
        <option value="128x64" {{SSD1306_128x64_SELECTED}}>128x64</option>
        <option value="128x32" {{SSD1306_128x32_SELECTED}}>128x32</option>
      </select>
    </div>
    <label for="volumeUnit">Volume Unit</label>
    <select name="volumeUnit" id="volumeUnit">
      <option value="L" {{VOLUME_UNIT_L_SELECTED}}>Liters (L)</option>
      <option value="gal" {{VOLUME_UNIT_GAL_SELECTED}}>Gallons (gal)</option>
    </select>
    <input type="submit" value="Save">
  </form>
  <div id="displayMsg"></div>
  <a href="/" class="back-home">‚Üê Back to Home</a>
</div>
<script src="/script.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  var typeSel = document.getElementById('displayType');
  var sizeRow = document.getElementById('ssd1306-size-row');
  function updateSizeRow() {
    sizeRow.style.display = (typeSel.value === 'ssd1306') ? '' : 'none';
  }
  typeSel.addEventListener('change', updateSizeRow);
  updateSizeRow();
});
</script>
{{FOOTER}}
</body>
</html> 